language: python
matrix:
  include:
  - python: 3.7
    TOXENV: py37
  - python: 3.6
    TOXENV: py37
before_install:
  - sudo npm install -g yo
  - sudo npm i -g yo generator-azure-iot-edge-module
  - pip install --upgrade pip
  - pip install --upgrade tox
  - sudo npm i -g iothub-explorer
  - az --version
install:
  - pip install -r requirements_travis.txt
script:
  - pytest -m unit # & pylint iotedgedev # or py.test for Python versions 3.5 and below
  - mvn -v
  - sudo -E `which tox` -e "$(TOXENV)"
env:
  - DOTENV_FILE=".env.tmp"